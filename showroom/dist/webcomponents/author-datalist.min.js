var AuthorDatalistElement=function(){"use strict";window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-datalist> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base")),function(){let e=Array.from(new Set(["author-menu","author-options","author-option"])).filter(e=>!customElements.get(e));e.length>0&&(console.error(`[ERROR] <author-datalist> Required dependenc${1!==e.length?"ies":"y"} not found: ${e.map(e=>`<${e}>`).join(", ").replace(", "+e[e.length-1]," and "+e[e.length-1])}`),e.forEach((e,t)=>console.info(`${t+1}. <${e}> is available at ${"https://github.com/author-elements/datalist".replace("datalist",e.replace("author-",""))}`)))}();class e extends AuthorMenuElement{constructor(){super('<template><style>@charset "UTF-8"; :host{display:inline-flex;max-width:100%}:host *,:host :after,:host :before{box-sizing:border-box}author-datalist{display:inline-flex;max-width:100%}author-datalist *,author-datalist :after,author-datalist :before{box-sizing:border-box}</style><slot name="afterbegin"></slot><slot name="beforeinput"></slot><slot name="input"></slot><slot name="afterinput"></slot><slot name="beforeselectedoptions"></slot><slot name="selectedoptions"></slot><slot name="afterselectedoptions"></slot><slot name="beforeoptions"></slot><slot name="options"></slot><slot name="afteroptions"></slot><slot name="beforeend"></slot></template>'),this.UTIL.defineAttributes({"case-sensitive":!1}),this.UTIL.definePrivateMethods({hideAllOptions:()=>Array.from(this.options).forEach(e=>e.setAttribute("hidden","")),clearFilter:()=>{this.optionsElement.hasFilter("query")&&(this.optionsElement.removeFilter("query"),this.selectedIndex=-1)},filterInput:()=>{this.PRIVATE.clearFilter();let e=this.inputElement.value;if(!e||""===e)return this.PRIVATE.showAllOptions(),this.PRIVATE.clearFilter();this.optionsElement.addFilter("query",()=>{let t=this.optionsElement.find(e,this["case-sensitive"]);return t.length?t:this.options}),this.PRIVATE.hideAllOptions(),this.optionsElement.filteredOptions.length>0?(this.optionsElement.filteredOptions.forEach(e=>e.hidden=!1),this.open=!0):this.open=!1},inputKeydownHandler:e=>{switch(e[this.keySource]){case 13:case"Enter":case 27:case"Escape":case 38:case"ArrowUp":case 40:case"ArrowDown":break;case 32:case" ":return;case 8:case"Backspace":1===this.inputElement.value.length&&(this.open=!1)}},showAllOptions:()=>Array.from(this.options).forEach(e=>e.removeAttribute("hidden"))}),this.UTIL.registerListeners(this,{connected:()=>{this.UTIL.registerListeners(this,{focus:e=>{if(document.activeElement===this)return this.inputElement.focus(),e.stopImmediatePropagation();this.inputElement.addEventListener("keydown",this.PRIVATE.inputKeydownHandler)}}),this.UTIL.registerListeners(this.inputElement,{blur:e=>{this.inputElement.removeEventListener("keydown",this.PRIVATE.inputKeydownHandler),this.emit("blur")},focus:e=>this.emit("focus"),click:e=>this.open=!0,input:e=>{this.PRIVATE.filterInput(e),e.inputType.includes("delete")&&this.optionsElement.unHoverAllOptions()}}),this.UTIL.registerListeners(window,{scroll:e=>this.open=!1})},"options.selected":e=>{let t=e.detail.options[0];this.inputElement.value=t.value,this.PRIVATE.filterInput(),this.emit("option.selected",t.displayElement),this.open=!1},"state.change":e=>{"open"===e.detail.name&&e.detail.value&&""===this.inputElement.value&&this.optionsElement.unHoverAllOptions()}})}static get observedAttributes(){return[...AuthorMenuElement.observedAttributes,"case-sensitive"]}get value(){return this.inputElement.value}add(e,t){this.optionsElement.addOption(e,t)}addFilter(e,t){this.optionsElement.addFilter(e,t)}clear(){this.inputElement.value="",this.selectedIndex=-1,this.PRIVATE.showAllOptions()}focus(){this.inputElement.focus()}inject(e,t,s){this.PRIVATE.injected||(e.slot="input",e.id=s,this.UTIL.defineProperty("inputElement",{readonly:!0,default:e}),this.appendChild(this.inputElement),super.inject(t))}}return customElements.define("author-datalist",e),e}();
//# sourceMappingURL=author-datalist.min.js.map
